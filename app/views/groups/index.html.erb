<p id="notice"><%= notice %></p>

Group Search
<%= link_to 'Create a New Group', new_group_path %>

<h1>Groups</h1>

<table>
  <thead>
    <tr>
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody>
    <% @groups.each do |group| %>
      <tr>
        <td><%= link_to group.title, group %></td>
        <td><%= group.description %></td>
        <td>Private: <%= group.is_private %></td>
        <% if group.users.include?(current_user) %>
          <td><%= link_to "Leave", group_user_path(current_user, @group), method: :destroy, data: {confirm: "Are you sure you want to leave the group?"} %></td>
        <% else %>
          <% if group.is_private %>
            <td><%= link_to "Request to Join", group_users_path(current_user, @group) %></td>
          <% else %>
            <td><%= link_to "Join", group_users_path(current_user, @group) %></td>
          <% end %>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>